<# 
.SYNOPSIS
  ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ·Ğ°Ğ¼ĞµĞ½Ğ° README Ğ² WebKurierSecurity (Windows, Ğ±ĞµĞ· ÑĞ¸Ğ¼Ğ»Ğ¸Ğ½ĞºĞ¾Ğ²).
  Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚/Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚: README_public.md, README_tech.md, LICENSE.txt.
  README.md Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ĞµÑ‚ÑÑ ĞºĞ¾Ğ¿Ğ¸ĞµĞ¹ README_public.md.

.PARAMETER DryRun
  Ğ•ÑĞ»Ğ¸ ÑƒĞºĞ°Ğ·Ğ°Ğ½, Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ¿Ğ»Ğ°Ğ½ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğ¹ Ğ±ĞµĞ· Ğ·Ğ°Ğ¿Ğ¸ÑĞ¸.

.EXAMPLE
  pwsh -File .\replace_readme.ps1
  pwsh -File .\replace_readme.ps1 -DryRun
#>

param(
  [switch]$DryRun
)

$ErrorActionPreference = "Stop"

function Write-Info([string]$msg) { Write-Host $msg -ForegroundColor Cyan }
function Write-Step([string]$msg) { Write-Host $msg -ForegroundColor Magenta }
function Backup-File([string]$Path) {
  if (Test-Path $Path) {
    $stamp = Get-Date -Format "yyyyMMdd_HHmmss"
    $backup = "$Path.$stamp.backup"
    if ($DryRun) { Write-Info "[DRY-RUN] Backup: $Path â†’ $backup" }
    else { Copy-Item -LiteralPath $Path -Destination $backup -Force; Write-Info "Backup: $Path â†’ $backup" }
  }
}
function Ensure-Dir([string]$DirPath) {
  if (-not (Test-Path $DirPath)) {
    if ($DryRun) { Write-Info "[DRY-RUN] Mkdir: $DirPath" }
    else { New-Item -ItemType Directory -Path $DirPath -Force | Out-Null }
  }
}
function Write-FileUtf8([string]$Path, [string]$Content) {
  Ensure-Dir (Split-Path -Parent $Path)
  if ($DryRun) { Write-Info "[DRY-RUN] Write: $Path" }
  else { $Content | Out-File -FilePath $Path -Encoding utf8 -Force }
}

$RepoRoot = Split-Path -Parent $MyInvocation.MyCommand.Path
Set-Location $RepoRoot
Write-Step "Running replace_readme.ps1 in $RepoRoot"

# ---------- Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ğ¼Ğ¾Ğµ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² ----------
$README_PUBLIC = @"
# ğŸ›¡ WebKurierSecurity  
**Security Module for WebKurierCore**  
*Threat detection â€¢ File scanning â€¢ Token protection â€¢ Quarantine â€¢ Reports*

---

## Features
- Real-time threat detection
- File and directory scanning
- Protection of tokens, keys, and sensitive data
- Quarantine for suspicious objects
- Security reports (PDF/JSON)
- Integration with Dropbox, GitHub, and local system

---

## Project Structure
WebKurierSecurity/
â”œâ”€â”€ engine/
â”‚   â””â”€â”€ agents/security/
â”‚       â”œâ”€â”€ security-agent.js
â”‚       â”œâ”€â”€ scanner.js
â”‚       â”œâ”€â”€ quarantine.js
â”‚       â””â”€â”€ reports.js
â”œâ”€â”€ config/
â”‚   â””â”€â”€ settings.json
â”œâ”€â”€ .github/workflows/tests.yml
â”œâ”€â”€ bench/
â”‚   â”œâ”€â”€ users_validator.py
â”‚   â”œâ”€â”€ bench_score.py
â”‚   â””â”€â”€ tests/test_users_validator.py
â”œâ”€â”€ README_public.md   â† Youâ€™re reading it!
â”œâ”€â”€ README_tech.md     â† Technical version
â””â”€â”€ LICENSE.txt        â† Proprietary license

---

## Installation

```bash
git clone https://github.com/Vladislav6410/WebKurierSecurity.git
cd WebKurierSecurity
npm install